<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>OYE Loader - Jscex Sample</title>
<!-- Load OYE module loader -->
<script type="text/javascript" src="oye.js"></script>
<script type="text/javascript">
	require.config({
		'jscex':				 '../../src/jscex.js',
		'jscex-async-powerpack': '../../src/jscex-async-powerpack.js',
		'jscex-async':			 '../../src/jscex-async.js',
		'jscex-jit':			 '../../src/jscex-jit.js',
		'jscex-builderbase':	 '../../src/jscex-builderbase.js',
		'jscex-parser':			 '../../src/jscex-parser.js'
	});

    require(['jscex', 'jscex-jit', 'jscex-async-powerpack', 'jscex-async', 'jscex-builderbase', 'jscex-parser'], function (Jscex, jit, asyncPowerPack, async){
		jit.init(Jscex);
        async.init(Jscex);
        asyncPowerPack.init(Jscex);

		var printEverySecond = eval(Jscex.compile("async", function (texts) {
			for (var i = 0; i < texts.length; i++) {
				$await(Jscex.Async.sleep(1000));
				console.log(texts[i]);
			}
		}));

		printEverySecond([1, 2, 3, 4, 5]).start();
	});
</script>
</head>
<body>
</body>
</html>