Jscex=function(){function h(a){this.r=Jscex.builders[a].binder;this.B=null}function i(a){this.L=a;this.r=Jscex.builders[a].binder;this.V=!1;this.f="$$_builder_$$_"+g++}function k(a){if(a[0]!="call")return!1;var b=a[1];if(b[0]!="name"||b[1]!="eval")return!1;a=a[2][0];if(!a||a[0]!="call")return!1;b=a[1];if(!b||b[0]!="dot"||b[2]!="compile")return!1;b=b[1];if(!b||b[0]!="name"||b[1]!="Jscex")return!1;b=a[2][0];if(!b||b[0]!="string")return!1;a=a[2][1];if(!a||a[0]!="function")return!1;return!0}function j(a){var b=
a[2][0][2][0][1];a=a[2][0][2][1];var c=(new h(b)).F(a);return(new i(b)).F(a[2],c)}var g=0;h.prototype={F:function(a){a=a[3];this.B={type:"delay",c:[]};this.h(a,this.B.c);return this.B},N:function(a){var b=a[0];if(b=="stat")if(a=a[1],a[0]=="call"){if(b=a[1],b[0]=="name"&&b[1]==this.r&&a[2].length==1)return{w:a[2][0],q:"",m:null}}else{if(a[0]=="assign"){var c=a[2];a=a[3];if(a[0]=="call"&&(b=a[1],b[0]=="name"&&b[1]==this.r&&a[2].length==1))return{w:a[2][0],q:"$$_result_$$",m:c}}}else if(b=="var"){if(a=
a[1],a.length==1&&(a=a[0],c=a[0],(a=a[1])&&a[0]=="call"))if(b=a[1],b[0]=="name"&&b[1]==this.r&&a[2].length==1)return{w:a[2][0],q:c,m:null}}else if(b=="return"&&(a=a[1])&&a[0]=="call")if(b=a[1],b[0]=="name"&&b[1]==this.r&&a[2].length==1)return{w:a[2][0],q:"$$_result_$$",m:"return"};return null},h:function(a,b,c){arguments.length<=2&&(c=0);if(c>=a.length)return b.push({type:"normal"}),this;var d=a[c],e=this.N(d);if(e){if(d={type:"bind",info:e},b.push(d),e.m!="return")d.c=[],this.h(a,d.c,c+1)}else e=
d[0],e=="return"||e=="break"||e=="continue"||e=="throw"?b.push({type:e,e:d}):e=="if"||e=="try"||e=="for"||e=="do"||e=="while"||e=="switch"||e=="for-in"?(d=this.Q(d),d.type=="raw"?(b.push(d),this.h(a,b,c+1)):c==a.length-1?b.push(d):(d={type:"combine",U:{type:"delay",c:[d]},K:{type:"delay",c:[]}},b.push(d),this.h(a,d.K.c,c+1))):(b.push({type:"raw",e:d}),this.h(a,b,c+1));return this},Q:function(a){var b=this.R[a[0]];if(b)return b.call(this,a)},n:function(a,b){a[0]=="block"?this.h(a[1],b):this.h([a],
b)},j:function(a){switch(a[a.length-1].type){case "normal":case "return":case "break":case "throw":case "continue":return!0}return!1},M:function(a,b){for(var c=[],d=b;d<a.length;d++)for(var e=a[d][1],f=0;f<e.length;f++){if(e[f][0]=="break")return c;c.push(e[f])}return c},R:{"for":function(a){var b=[];this.n(a[4],b);if(this.j(b))return{type:"raw",e:a};var c={type:"delay",c:[]},d=a[1];d&&c.c.push({type:"raw",e:d});b={type:"loop",t:!1,k:{type:"delay",c:b}};c.c.push(b);if(d=a[2])b.s=d;if(a=a[3])b.update=
a;return c},"for-in":function(a){var b="$$_members_$$_"+g,c="$$_index_$$_"+g,d="$$_mem_$$_"+g;g++;var e=a[3],f={type:"delay",c:[]};f.c.push({type:"raw",e:["var",[[b,["array",[]]]]]});f.c.push({type:"raw",e:["for-in",["var",[[d]]],["name",[d]],e,["stat",["call",["dot",["name",b],"push"],[["name",d]]]]]});f.c.push({type:"raw",e:["var",[[c,["num",0]]]]});d={type:"loop",t:!1,update:["unary-postfix","++",["name",c]],s:["binary","<",["name",c],["dot",["name",b],"length"]],k:{type:"delay",c:[]}};f.c.push(d);
e=a[2][1];a[1][0]=="var"?d.k.c.push({type:"raw",e:["var",[[e,["sub",["name",b],["name",c]]]]]}):d.k.c.push({type:"raw",e:["stat",["assign",!0,["name",e],["sub",["name",b],["name",c]]]]});this.n(a[4],d.k.c);return f},"while":function(a){var b=[];this.n(a[2],b);if(this.j(b))return{type:"raw",e:a};b={type:"loop",t:!1,k:{type:"delay",c:b}};b.s=a[1];return b},"do":function(a){var b=[];this.n(a[2],b);if(this.j(b))return{type:"raw",e:a};b={type:"loop",t:!0,k:{type:"delay",c:b}};b.s=a[1];return b},"switch":function(a){for(var b=
!0,c={type:"switch",item:a[1],C:[]},d=a[2],e=0;e<d.length;e++){var f={item:d[e][0],c:[]};c.C.push(f);this.h(this.M(d,e),f.c);b=b&&this.j(f.c)}return b?{type:"raw",e:a}:c},"if":function(a){for(var b=!0,c={type:"if",D:[]};;){var d={S:a[1],c:[]};c.D.push(d);this.n(a[2],d.c);b=b&&this.j(d.c);if((d=a[3])&&d[0]=="if")a=d;else break}if(d=a[3])c.v=[],this.n(d,c.v),b=b&&this.j(c.v);return b?{type:"raw",e:a}:c},"try":function(a){var b=[];this.h(a[1],b);var c=this.j(b);b={type:"try",k:{type:"delay",c:b}};var d=
a[2];if(d)b.T=d[0],b.u=[],this.h(d[1],b.u),c=c&&this.j(b.u);if(d=a[3])b.z={type:"delay",c:[]},this.h(d,b.z.c),c=c&&this.j(b.z.c);return c?{type:"raw",e:a}:b}}};i.prototype={a:function(a){this.I.push(a);return this},F:function(a,b){this.I=[];this.a("(function ("+a.join(", ")+") {");this.a("var "+this.f+" = Jscex.builders["+JSON.stringify(this.L)+"];");this.a("return "+this.f+".Start(this,");this.d={};this.g(b);this.a(");");this.a("})");return this.I.join("")},g:function(a){this.O[a.type].call(this,
a);return this},b:function(a){var b=this.P[a[0]];b&&b.call(this,a);return this},l:function(a){for(var b=0;b<a.length;b++){var c=a[b];c.type=="raw"||c.type=="if"||c.type=="switch"?this.g(c):c.type=="delay"?this.l(c.c):this.a("return ").g(c).a(";")}},p:function(a){for(var b=0;b<a.length;b++){var c=a[b];this.b(c);switch(c[0]){case "break":case "return":case "continue":case "throw":return}}},o:function(a){this.b(a);return this},J:function(a){var b=a[3];this.a("function "+(a[1]||"")+"("+a[2].join(", ")+
") {");a=this.d.A;this.d.A=!0;this.p(b);this.d.A=a;this.a("}")},O:{delay:function(a){if(a.c.length==1){var b=a.c[0];switch(b.type){case "delay":case "combine":case "normal":case "break":case "continue":case "loop":case "try":this.g(b);return;case "return":if(!b.e[1]){this.g(b);return}}}this.a(this.f+".Delay(function () {");this.l(a.c);this.a("})")},combine:function(a){this.a(this.f+".Combine(");this.g(a.U).a(",");this.g(a.K);this.a(")")},loop:function(a){this.a(this.f+".Loop(");a.s?(this.a("function () {"),
this.a("return ").b(a.s).a(";"),this.a("},")):this.a("null,");a.update?(this.a("function () {"),this.b(a.update).a(";"),this.a("},")):this.a("null,");this.g(a.k).a(",");this.a(a.t);this.a(")")},raw:function(a){this.b(a.e)},bind:function(a){var b=a.info;this.a(this.f+".Bind(").b(b.w).a(", function ("+b.q+") {");b.m=="return"?this.a("return "+this.f+".Return("+b.q+");"):(b.m&&this.b(b.m).a(" = "+b.q+";"),this.l(a.c));this.a("})")},"if":function(a){for(var b=0;b<a.D.length;b++){var c=a.D[b];this.a("if (").b(c.S).a(") {");
this.l(c.c);this.a("} else ")}this.a("{");a.v?this.l(a.v):this.a("return "+this.f+".Normal();");this.a("}")},"switch":function(a){this.a("switch (").b(a.item).a(") {");for(var b=0;b<a.C.length;b++){var c=a.C[b];c.item?this.a("case ").b(c.item).a(":"):this.a("default:");this.l(c.c)}this.a("}")},"try":function(a){this.a(this.f+".Try(");this.g(a.k).a(",");a.u?(this.a("function ("+a.T+") {"),this.l(a.u),this.a("},")):this.a("null,");a.z?this.g(a.z):this.a("null");this.a(")")},normal:function(){this.a(this.f+
".Normal()")},"throw":function(a){this.a(this.f+".Throw(").b(a.e[1]).a(")")},"break":function(){this.a(this.f+".Break()")},"continue":function(){this.a(this.f+".Continue()")},"return":function(a){this.a(this.f+".Return(");a.e[1]&&this.b(a.e[1]);this.a(")")}},P:{"var":function(a){this.a("var ");a=a[1];for(var b=0;b<a.length;b++)this.a(a[b][0]),a[b].length>1&&this.a(" = ").b(a[b][1]),b<a.length-1&&this.a(", ");this.a(";")},seq:function(a){for(var b=1;b<a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ")},
binary:function(a){var b=a[1],c=a[2];a=a[3];this.a("(").b(c).a(") ");this.a(b);this.a(" (").b(a).a(")")},sub:function(a){var b=a[1];a=a[2];this.a("(").b(b).a(")[").b(a).a("]")},"unary-postfix":function(a){var b=a[1];this.b(a[2]).a(b)},"unary-prefix":function(a){var b=a[2];this.a(a[1]).b(b)},assign:function(a){var b=a[1],c=a[3];this.b(a[2]);typeof b=="string"?this.a(" "+b+"= "):this.a(" = ");this.b(c)},stat:function(a){this.b(a[1]).a(";")},dot:function(a){this.a("(").b(a[1]).a(").").a(a[2])},"new":function(a){var b=
a[1];this.a("new ").b(b).a("(");a=a[2];b=0;for(var c=a.length;b<c;b++)this.b(a[b]),b<c-1&&this.a(", ");this.a(")")},call:function(a){if(k(a))this.a(j(a));else{this.b(a[1]).a("(");a=a[2];for(var b=0;b<a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ");this.a(")")}},name:function(a){this.a(a[1])},object:function(a){this.a("{");a=a[1];for(var b=0;b<a.length;b++)this.a(JSON.stringify(a[b][0])+": ").b(a[b][1]),b<a.length-1&&this.a(", ");this.a("}")},array:function(a){this.a("[");a=a[1];for(var b=0;b<
a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ");this.a("]")},num:function(a){this.a(a[1])},regexp:function(a){this.a("/"+a[1]+"/"+a[2])},string:function(a){this.a(JSON.stringify(a[1]))},"function":function(a){this.J(a)},defun:function(a){this.J(a)},"return":function(a){this.d.A?(this.a("return"),(a=a[1])&&this.a(" ").b(a),this.a(";")):this.a("return ").g({type:"return",e:a}).a(";")},"for":function(a){this.a("for (");var b=a[1];b?(this.b(b),b[0]!="var"?this.a("; "):this.a(" ")):this.a("; ");(b=
a[2])&&this.b(b);this.a("; ");(b=a[3])&&this.b(b);this.a(") ");b=this.d.i;this.d.i=!0;this.o(a[4]);this.d.i=b},"for-in":function(a){this.a("for (");var b=a[1];b[0]=="var"?this.a("var "+b[1][0][0]):this.b(b);this.a(" in ").b(a[3]).a(") ");this.o(a[4])},block:function(a){this.a("{");this.p(a[1]);this.a("}")},"while":function(a){var b=a[1];a=a[2];var c=this.d.i;this.d.i=!0;this.a("while (").b(b).a(") ").o(a);this.d.i=c},"do":function(a){var b=a[1];a=a[2];var c=this.d.i;this.d.i=!0;this.a("do ").o(a);
this.d.i=c;a[0]=="block"&&this.a(" ");this.a("while (").b(b).a(");")},"if":function(a){var b=a[1],c=a[2];this.a("if (").b(b).a(") ").o(c);c[0]!="block"?this.a(""):this.a(" ");(a=a[3])&&(a[0]=="if"?this.a("else ").b(a):this.a("else ").o(a))},"break":function(a){this.d.i||this.d.G?this.a("break;"):this.a("return ").g({type:"break",e:a}).a(";")},"continue":function(a){this.d.i?this.a("continue;"):this.a("return ").g({type:"continue",e:a}).a(";")},"throw":function(a){var b=this.d;b.H||b.A?this.a("throw ").b(a[1]).a(";"):
this.a("return ").g({type:"throw",e:a}).a(";")},conditional:function(a){this.a("(").b(a[1]).a(") ? (").b(a[2]).a(") : (").b(a[3]).a(")")},"try":function(a){this.a("try {");var b=this.d.H;this.d.H=!0;this.p(a[1]);this.d.H=b;b=a[2];a=a[3];b&&(this.a("} catch ("+b[0]+") {"),this.p(b[1]));a&&(this.a("} finally {"),this.p(a));this.a("}")},"switch":function(a){this.a("switch (").b(a[1]).a(") {");var b=this.d.G;this.d.G=!0;a=a[2];for(var c=0;c<a.length;c++){var d=a[c];d[0]?this.a("case ").b(d[0]).a(":"):
this.a("default:");this.p(d[1])}this.d.G=b;this.a("}")}}};return{config:{},compile:function(a,b){var c=b.toString();c="eval(Jscex.compile("+JSON.stringify(a)+", "+c+"))";c=UglifyJS.parse(c)[1][0][1];c=j(c);var d=Jscex.config.codeGenerator;return d?d(c):c},builders:{}}}();
